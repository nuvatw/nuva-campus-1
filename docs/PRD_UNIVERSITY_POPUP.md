# PRD: å¤§å­¸æ‡‰æ´å½ˆçª—å„ªåŒ–èˆ‡åˆ†äº«åŠŸèƒ½

## ğŸ“‹ æ¦‚è¿°

### ç›®æ¨™
å°‡ç¾æœ‰çš„ã€Œé»æ“Šå¤§å­¸ â†’ é¡¯ç¤ºè¡¨å–®ã€æµç¨‹ï¼Œæ”¹é€ ç‚ºæ›´å…·äº’å‹•æ€§å’Œè¦–è¦ºå¸å¼•åŠ›çš„é«”é©—ï¼š
1. é»æ“Šå¤§å­¸å¾Œå½ˆå‡ºç²¾ç¾çš„ Popup è¡¨å–®å¡ç‰‡
2. é å…ˆå¡«å…¥ã€Œå¹«å¿™æ–¹å¼ã€å’Œã€Œå­¸æ ¡ã€
3. æäº¤å¾Œé€éçµ²æ»‘å‹•ç•«è®“è¡¨å–®è®Šæˆå°å¡ä¸¦é£›å…¥æ‡‰æ´ç‰†
4. é¡¯ç¤ºæ­å–œç•«é¢
5. æä¾› Instagram DM å’Œ Line åˆ†äº«é¸é …
6. æ’­æ”¾ success.wav éŸ³æ•ˆ

### ç•¶å‰å•é¡Œ
- `recruit/page.tsx` æœ‰ 1290 è¡Œï¼Œéæ–¼é¾å¤§ï¼Œéœ€è¦æ¨¡çµ„åŒ–
- ç¾æœ‰è¡¨å–®é«”é©—è¼ƒç‚ºå‚³çµ±ï¼Œç¼ºä¹è¦–è¦ºå¸å¼•åŠ›
- æäº¤å¾Œæ²’æœ‰åˆ†äº«åŠŸèƒ½

---

## ğŸ—ï¸ Phase 1: ç¨‹å¼ç¢¼æ¨¡çµ„åŒ–

### 1.1 æª”æ¡ˆçµæ§‹è¦åŠƒ

```
app/recruit/
â”œâ”€â”€ page.tsx                    # ä¸»é é¢ï¼ˆç²¾ç°¡å¾Œç´„ 150 è¡Œï¼‰
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ index.ts               # çµ±ä¸€åŒ¯å‡º
â”‚   â”œâ”€â”€ FixedHeader.tsx        # å›ºå®šé ‚éƒ¨å°èˆª (~40 è¡Œ)
â”‚   â”œâ”€â”€ HeroSection.tsx        # Hero å€å¡Š (~70 è¡Œ)
â”‚   â”œâ”€â”€ StatsSection.tsx       # çµ±è¨ˆæ•¸æ“šå€å¡Š (~70 è¡Œ)
â”‚   â”œâ”€â”€ SupportersWall/
â”‚   â”‚   â”œâ”€â”€ index.tsx          # æ‡‰æ´ç‰†ä¸»çµ„ä»¶ (~100 è¡Œ)
â”‚   â”‚   â”œâ”€â”€ SupporterCard.tsx  # å°å¡ç‰‡çµ„ä»¶ (~50 è¡Œ)
â”‚   â”‚   â”œâ”€â”€ InfiniteScrollRow.tsx # ç„¡é™æ»¾å‹•åˆ— (~60 è¡Œ)
â”‚   â”‚   â””â”€â”€ FlipCardPopup.tsx  # ç¿»ç‰Œå½ˆçª— (~140 è¡Œ)
â”‚   â”œâ”€â”€ ActionButtons.tsx      # CTA æŒ‰éˆ•çµ„ (~80 è¡Œ)
â”‚   â”œâ”€â”€ UniversitySelector/
â”‚   â”‚   â”œâ”€â”€ index.tsx          # å¤§å­¸é¸æ“‡å™¨ä¸»çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ UniversityCard.tsx # å¤§å­¸å¡ç‰‡
â”‚   â”‚   â””â”€â”€ SearchFilter.tsx   # æœå°‹ç¯©é¸
â”‚   â”œâ”€â”€ SupportFormPopup/      # ğŸ†• æ–°çš„å½ˆçª—è¡¨å–®
â”‚   â”‚   â”œâ”€â”€ index.tsx          # ä¸»å½ˆçª—çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ FormContent.tsx    # è¡¨å–®å…§å®¹
â”‚   â”‚   â”œâ”€â”€ SuccessScreen.tsx  # æˆåŠŸç•«é¢
â”‚   â”‚   â””â”€â”€ SharePopup.tsx     # åˆ†äº«å½ˆçª—
â”‚   â””â”€â”€ Leaderboard.tsx        # æ’è¡Œæ¦œ (~60 è¡Œ)
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useSupporters.ts       # æ”¯æŒè€…æ•¸æ“š Hook
â”‚   â”œâ”€â”€ useSupportStats.ts     # çµ±è¨ˆæ•¸æ“š Hook
â”‚   â””â”€â”€ useAudioPlayer.ts      # ğŸ†• éŸ³æ•ˆæ’­æ”¾ Hook
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ formatters.ts          # æ ¼å¼åŒ–å‡½æ•¸
â”‚   â””â”€â”€ shareLinks.ts          # ğŸ†• åˆ†äº«é€£çµç”Ÿæˆ
â””â”€â”€ types.ts                   # é¡å‹å®šç¾©
```

### 1.2 æ¨¡çµ„åŒ–åŸ·è¡Œé †åº

1. å»ºç«‹ `types.ts` - æå–æ‰€æœ‰ interface
2. å»ºç«‹ `utils/formatters.ts` - æå– `formatName` ç­‰å‡½æ•¸
3. å»ºç«‹ `hooks/` - æå– SWR é‚è¼¯
4. é€ä¸€æå–çµ„ä»¶åˆ° `components/`
5. æ›´æ–° `page.tsx` ä½¿ç”¨æ–°æ¨¡çµ„

---

## ğŸ¨ Phase 2: å¤§å­¸å½ˆçª—è¡¨å–® (SupportFormPopup)

### 2.1 ä½¿ç”¨è€…æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. é»æ“Šå¤§å­¸å¡ç‰‡                                              â”‚
â”‚     â†“                                                        â”‚
â”‚  2. å½ˆå‡º Popup è¡¨å–®ï¼ˆå·²å¡«å…¥ï¼šå¹«å¿™æ–¹å¼ + å­¸æ ¡ï¼‰                   â”‚
â”‚     â†“                                                        â”‚
â”‚  3. ä½¿ç”¨è€…å¡«å¯«ï¼šå§“åã€Emailã€å–®ä½ã€ç•™è¨€                          â”‚
â”‚     â†“                                                        â”‚
â”‚  4. æŒ‰ä¸‹é€å‡ºæŒ‰éˆ•                                              â”‚
â”‚     â†“                                                        â”‚
â”‚  5. ğŸµ æ’­æ”¾ success.wav                                       â”‚
â”‚     â†“                                                        â”‚
â”‚  6. è¡¨å–®å¡ç‰‡ç¸®å°ä¸¦ã€Œè®Šèº«ã€æˆå°å¡                                 â”‚
â”‚     â†“                                                        â”‚
â”‚  7. æ‡‰æ´ç‰†æš«åœæ»¾å‹•ï¼Œå¡ç‰‡å·¦å³åˆ†é–‹                                 â”‚
â”‚     â†“                                                        â”‚
â”‚  8. æ–°å¡ç‰‡é£›å…¥æ‡‰æ´ç‰†ä¸­å¤®                                        â”‚
â”‚     â†“                                                        â”‚
â”‚  9. ğŸ‰ æ­å–œç•«é¢ + æ’’èŠ±/ç²’å­æ•ˆæœ                                 â”‚
â”‚     â†“                                                        â”‚
â”‚ 10. å½ˆå‡ºåˆ†äº«é¸é …ï¼ˆIG DM / Lineï¼‰                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 Popup è¡¨å–®è¨­è¨ˆ

#### è¦–è¦ºè¦æ ¼
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚ â† åŠé€æ˜é»‘è‰²èƒŒæ™¯
â”‚  â•‘                               âœ•   â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘  â”‚
â”‚  â•‘  â”‚  ğŸ¯ æˆ‘å¯ä»¥å¹«å¿™              â”‚    â•‘  â”‚ â† å·²é¸æ“‡çš„é¡å‹ï¼ˆç´…/é‡‘æ¨™ç±¤ï¼‰
â”‚  â•‘  â”‚  ğŸ“ åœ‹ç«‹è‡ºç£å¤§å­¸            â”‚    â•‘  â”‚ â† å·²é¸æ“‡çš„å­¸æ ¡ï¼ˆä¸å¯ç·¨è¼¯ï¼‰
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘  å§“å *                           â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘  â”‚
â”‚  â•‘  â”‚                             â”‚  â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘  Email *                          â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘  â”‚
â”‚  â•‘  â”‚                             â”‚  â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘  å–®ä½/å­¸ç³»ï¼ˆé¸å¡«ï¼‰                  â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘  â”‚
â”‚  â•‘  â”‚                             â”‚  â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘  æƒ³èªªçš„è©±ï¼ˆé¸å¡«ï¼‰                  â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘  â”‚
â”‚  â•‘  â”‚                             â”‚  â•‘  â”‚
â”‚  â•‘  â”‚                             â”‚  â•‘  â”‚
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘  â”‚
â”‚  â•‘  â”‚     âœ¨ é€å‡ºæ‡‰æ´ âœ¨           â”‚  â•‘  â”‚ â† ä¸»æŒ‰éˆ•
â”‚  â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Props ä»‹é¢
```typescript
interface SupportFormPopupProps {
  isOpen: boolean;
  onClose: () => void;
  university: University;
  supportType: SupportType;
  onSuccess: (data: SubmitData) => void;
}

interface SubmitData {
  name: string;
  email: string;
  university: University;
  supportType: SupportType;
  organization?: string;
  message?: string;
}
```

---

## ğŸ¬ Phase 3: å‹•ç•«åºåˆ—è¨­è¨ˆ

### 3.1 å‹•ç•«æ™‚é–“è»¸

```
Time:   0ms   200ms   500ms   800ms   1500ms   2000ms   2500ms   3000ms
        â”‚      â”‚       â”‚       â”‚        â”‚        â”‚        â”‚        â”‚
        â”‚      â”‚       â”‚       â”‚        â”‚        â”‚        â”‚        â”‚
        â–¼      â–¼       â–¼       â–¼        â–¼        â–¼        â–¼        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é€å‡º  â”‚ éŸ³æ•ˆ â”‚ è¡¨å–®  â”‚ è¡¨å–®  â”‚ æ‡‰æ´ç‰† â”‚ å¡ç‰‡   â”‚ æ­å–œ   â”‚ åˆ†äº«   â”‚
â”‚ æŒ‰éˆ•  â”‚ æ’­æ”¾ â”‚ ç¸®å°  â”‚ è®Šèº«  â”‚ åˆ†é–‹   â”‚ é£›å…¥   â”‚ ç•«é¢   â”‚ å½ˆçª—   â”‚
â”‚ æŒ‰ä¸‹  â”‚ é–‹å§‹ â”‚ å‹•ç•«  â”‚ å°å¡  â”‚ å‹•ç•«   â”‚ å®šä½   â”‚ é¡¯ç¤º   â”‚ é¡¯ç¤º   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 CSS Keyframes è¨­è¨ˆ

```css
/* è¡¨å–®ç¸®å°ä¸¦è®Šæˆå¡ç‰‡ */
@keyframes form-to-card {
  0% {
    transform: scale(1);
    border-radius: 16px;
    width: 400px;
    height: auto;
  }
  50% {
    transform: scale(0.8);
    border-radius: 20px;
  }
  100% {
    transform: scale(0.6);
    border-radius: 24px;
    width: 288px; /* w-72 */
    height: auto;
  }
}

/* å¡ç‰‡é£›å…¥æ‡‰æ´ç‰†ï¼ˆæ”¹è‰¯ç‰ˆï¼‰*/
@keyframes card-fly-to-wall {
  0% {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
    z-index: 60;
  }
  40% {
    top: 40%;
    transform: translate(-50%, -50%) scale(1.05);
  }
  100% {
    top: var(--target-y, 30%);
    left: 50%;
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
}

/* æ‡‰æ´ç‰†å¡ç‰‡å·¦å³åˆ†é–‹ */
@keyframes cards-part-left {
  0% { transform: translateX(0); }
  100% { transform: translateX(-60px); }
}

@keyframes cards-part-right {
  0% { transform: translateX(0); }
  100% { transform: translateX(60px); }
}

/* æ­å–œæ’’èŠ±æ•ˆæœ */
@keyframes confetti-fall {
  0% {
    transform: translateY(-100px) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(100vh) rotate(720deg);
    opacity: 0;
  }
}

/* æ­å–œæ–‡å­—å½ˆå‡º */
@keyframes congratulations-pop {
  0% {
    transform: scale(0);
    opacity: 0;
  }
  50% {
    transform: scale(1.2);
  }
  70% {
    transform: scale(0.95);
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}
```

### 3.3 å‹•ç•«ç‹€æ…‹æ©Ÿ

```typescript
type AnimationPhase =
  | 'idle'           // åˆå§‹ç‹€æ…‹
  | 'submitting'     // æäº¤ä¸­
  | 'transforming'   // è¡¨å–®è®Šå½¢ç‚ºå¡ç‰‡
  | 'flying'         // å¡ç‰‡é£›å‘æ‡‰æ´ç‰†
  | 'landing'        // å¡ç‰‡è½åœ°ï¼Œç‰†åˆ†é–‹
  | 'celebrating'    // æ­å–œç•«é¢
  | 'sharing'        // åˆ†äº«å½ˆçª—
  | 'complete';      // å®Œæˆ

interface AnimationState {
  phase: AnimationPhase;
  cardPosition: { x: number; y: number };
  wallPaused: boolean;
}
```

---

## ğŸ‰ Phase 4: æˆåŠŸç•«é¢è¨­è¨ˆ

### 4.1 è¦–è¦ºè¦æ ¼

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘   ğŸŠ  ğŸ‰  ğŸŠ  ğŸ‰  ğŸŠ  ğŸ‰  ğŸŠ       â•‘  â”‚ â† æ’’èŠ±å‹•ç•«
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘         â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®           â•‘  â”‚
â”‚  â•‘         â”‚    âœ“ âœ“ âœ“   â”‚           â•‘  â”‚ â† æ‰“å‹¾å‹•ç•«
â”‚  â•‘         â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯           â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘      ğŸ‰ æ­å–œä½ æˆç‚ºç¬¬ 47 ä½         â•‘  â”‚
â”‚  â•‘         åœ‹ç«‹è‡ºç£å¤§å­¸               â•‘  â”‚
â”‚  â•‘           æ‡‰æ´è€…ï¼                 â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â•‘  â”‚
â”‚  â•‘   â”‚  ä½ çš„æ”¯æŒå·²åŠ å…¥æ‡‰æ´ç‰† â†‘  â”‚     â•‘  â”‚
â”‚  â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 Confetti æ•ˆæœå¯¦ä½œ

ä½¿ç”¨ç´” CSS/JS å¯¦ä½œï¼Œä¸å¼•å…¥é¡å¤–å¥—ä»¶ï¼š

```typescript
// ç”Ÿæˆæ’’èŠ±ç²’å­
function generateConfetti(count: number = 50): ConfettiParticle[] {
  const colors = ['#F59E0B', '#E53E3E', '#48BB78', '#4299E1', '#9F7AEA'];
  return Array.from({ length: count }, (_, i) => ({
    id: i,
    x: Math.random() * 100,
    color: colors[Math.floor(Math.random() * colors.length)],
    delay: Math.random() * 0.5,
    duration: 2 + Math.random() * 2,
    rotation: Math.random() * 360,
    size: 8 + Math.random() * 8,
  }));
}
```

---

## ğŸ“¤ Phase 5: åˆ†äº«åŠŸèƒ½

### 5.1 åˆ†äº«å½ˆçª—è¨­è¨ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘                               âœ•   â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘     ğŸ“£ åˆ†äº«çµ¦æœ‹å‹ï¼Œä¸€èµ·æ‡‰æ´ï¼       â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â•‘  â”‚
â”‚  â•‘   â”‚           â”‚  â”‚           â”‚   â•‘  â”‚
â”‚  â•‘   â”‚    ğŸ“·     â”‚  â”‚    ğŸ’¬     â”‚   â•‘  â”‚
â”‚  â•‘   â”‚   IG ç§è¨Š  â”‚  â”‚   Line   â”‚   â•‘  â”‚
â”‚  â•‘   â”‚           â”‚  â”‚           â”‚   â•‘  â”‚
â”‚  â•‘   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â•‘  â”‚
â”‚  â•‘        â”‚    ç¨å¾Œå†èªª      â”‚       â•‘  â”‚
â”‚  â•‘        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 åˆ†äº«é€£çµå¯¦ä½œ

```typescript
// utils/shareLinks.ts

const SHARE_MESSAGE = `æˆ‘å‰›å‰›ç‚º {university} æ‡‰æ´äº† NUVA å…¨åœ‹æ ¡åœ’å·¡è¿´è¨ˆåŠƒï¼ğŸšâœ¨ å¿«ä¾†ç‚ºä½ çš„å­¸æ ¡æ‡‰æ´å§ï¼`;
const SHARE_URL = 'https://nuva.tw/recruit';

/**
 * Instagram DM åˆ†äº«
 * æ³¨æ„ï¼šInstagram ä¸æ”¯æ´ç›´æ¥åˆ†äº«æ–‡å­—åˆ° DM
 * æ–¹æ¡ˆï¼šè¤‡è£½æ–‡å­—åˆ°å‰ªè²¼ç°¿ï¼Œç„¶å¾Œé–‹å•Ÿ Instagram
 */
export async function shareToInstagramDM(university: string): Promise<void> {
  const message = SHARE_MESSAGE.replace('{university}', university);

  // è¤‡è£½åˆ°å‰ªè²¼ç°¿
  await navigator.clipboard.writeText(`${message}\n${SHARE_URL}`);

  // é–‹å•Ÿ Instagramï¼ˆå¦‚æœæ˜¯è¡Œå‹•è£ç½®ï¼‰
  const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

  if (isMobile) {
    // å˜—è©¦é–‹å•Ÿ Instagram app
    window.location.href = 'instagram://';

    // å‚™æ´ï¼š3ç§’å¾Œå¦‚æœé‚„åœ¨é é¢ï¼Œé–‹å•Ÿç¶²é ç‰ˆ
    setTimeout(() => {
      window.open('https://www.instagram.com/direct/inbox/', '_blank');
    }, 3000);
  } else {
    window.open('https://www.instagram.com/direct/inbox/', '_blank');
  }

  return Promise.resolve();
}

/**
 * Line åˆ†äº«
 * ä½¿ç”¨ Line URL Scheme
 */
export function shareToLine(university: string): void {
  const message = SHARE_MESSAGE.replace('{university}', university);
  const encodedMessage = encodeURIComponent(`${message}\n${SHARE_URL}`);

  const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

  if (isMobile) {
    // Line app URL scheme
    window.location.href = `line://msg/text/${encodedMessage}`;
  } else {
    // Line ç¶²é åˆ†äº«
    window.open(
      `https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(SHARE_URL)}&text=${encodedMessage}`,
      '_blank',
      'width=500,height=500'
    );
  }
}
```

### 5.3 åˆ†äº«è¿½è¹¤ï¼ˆå¯é¸ï¼‰

```typescript
// è¿½è¹¤åˆ†äº«äº‹ä»¶ï¼ˆå¯æ•´åˆ GA4ï¼‰
function trackShare(platform: 'instagram' | 'line', university: string) {
  if (typeof window !== 'undefined' && window.gtag) {
    window.gtag('event', 'share', {
      method: platform,
      content_type: 'recruit_support',
      item_id: university,
    });
  }
}
```

---

## ğŸ”Š Phase 6: éŸ³æ•ˆæ’­æ”¾

### 6.1 Audio Hook

```typescript
// hooks/useAudioPlayer.ts

import { useCallback, useRef } from 'react';

export function useAudioPlayer() {
  const audioRef = useRef<HTMLAudioElement | null>(null);

  const playSuccess = useCallback(() => {
    // ç¢ºä¿åªåœ¨å®¢æˆ¶ç«¯åŸ·è¡Œ
    if (typeof window === 'undefined') return;

    // æ‡¶è¼‰å…¥éŸ³æ•ˆ
    if (!audioRef.current) {
      audioRef.current = new Audio('/success.wav');
      audioRef.current.volume = 0.5; // è¨­å®šéŸ³é‡
    }

    // é‡ç½®ä¸¦æ’­æ”¾
    audioRef.current.currentTime = 0;
    audioRef.current.play().catch((err) => {
      // è‡ªå‹•æ’­æ”¾å¯èƒ½è¢«ç€è¦½å™¨é˜»æ“‹ï¼Œéœé»˜å¤±æ•—
      console.debug('Audio play failed:', err);
    });
  }, []);

  const preload = useCallback(() => {
    if (typeof window === 'undefined') return;
    if (!audioRef.current) {
      audioRef.current = new Audio('/success.wav');
      audioRef.current.load();
    }
  }, []);

  return { playSuccess, preload };
}
```

### 6.2 ä½¿ç”¨æ–¹å¼

```typescript
// åœ¨ SupportFormPopup ä¸­
const { playSuccess, preload } = useAudioPlayer();

// çµ„ä»¶è¼‰å…¥æ™‚é è¼‰
useEffect(() => {
  preload();
}, [preload]);

// æäº¤æˆåŠŸæ™‚æ’­æ”¾
const handleSubmitSuccess = async () => {
  playSuccess();
  setAnimationPhase('transforming');
  // ...
};
```

---

## ğŸ“± Phase 7: éŸ¿æ‡‰å¼è¨­è¨ˆè€ƒé‡

### 7.1 æ–·é»è¦æ ¼

| æ–·é» | å¯¬åº¦ | Popup å¯¬åº¦ | å­—é«”å¤§å° |
|------|------|-----------|---------|
| Mobile | < 640px | 100% - 32px | 14px |
| Tablet | 640-1024px | 420px | 15px |
| Desktop | > 1024px | 480px | 16px |

### 7.2 å‹•ç•«åœ¨ä¸åŒè¨­å‚™çš„èª¿æ•´

```typescript
// å–å¾—å‹•ç•«ç›®æ¨™ä½ç½®
function getAnimationTargets(): AnimationTargets {
  const isMobile = window.innerWidth < 640;

  return {
    cardFlyDuration: isMobile ? 1000 : 1500,
    cardScale: isMobile ? 0.8 : 1,
    wallGap: isMobile ? 40 : 60,
  };
}
```

---

## âœ… åŸ·è¡Œè¨ˆç•«

### Week 1: æ¨¡çµ„åŒ–é‡æ§‹
- [ ] Day 1-2: å»ºç«‹ types.ts, utils/, hooks/
- [ ] Day 3-4: æå– SupportersWall ç›¸é—œçµ„ä»¶
- [ ] Day 5: æå–å…¶ä»–çµ„ä»¶ï¼Œæ›´æ–° page.tsx

### Week 2: å½ˆçª—è¡¨å–®å¯¦ä½œ
- [ ] Day 1-2: å»ºç«‹ SupportFormPopup åŸºç¤çµæ§‹
- [ ] Day 3: å¯¦ä½œè¡¨å–®é‚è¼¯å’Œé©—è­‰
- [ ] Day 4-5: å¯¦ä½œ useAudioPlayer å’ŒæˆåŠŸç•«é¢

### Week 3: å‹•ç•«åºåˆ—
- [ ] Day 1-2: å¯¦ä½œè¡¨å–®â†’å¡ç‰‡è®Šå½¢å‹•ç•«
- [ ] Day 3-4: å¯¦ä½œæ‡‰æ´ç‰†åˆ†é–‹å’Œå¡ç‰‡é£›å…¥
- [ ] Day 5: å¯¦ä½œ Confetti æ•ˆæœ

### Week 4: åˆ†äº«åŠŸèƒ½å’Œæ¸¬è©¦
- [ ] Day 1-2: å¯¦ä½œåˆ†äº«å½ˆçª—å’Œé€£çµ
- [ ] Day 3: éŸ¿æ‡‰å¼èª¿æ•´å’Œå‹•ç•«å¾®èª¿
- [ ] Day 4-5: è·¨ç€è¦½å™¨æ¸¬è©¦å’Œä¿®å¾©

---

## ğŸ“š æŠ€è¡“åƒè€ƒ

### å‹•ç•«å¯¦ä½œ
- [Framer Motion Layout Animations](https://www.framer.com/motion/layout-animations/) - Shared Element Transitions
- [CSS Animation Performance](https://web.dev/animations-guide/) - ä½¿ç”¨ transform å’Œ opacity

### åˆ†äº«åŠŸèƒ½
- [Line URL Scheme](https://developers.line.biz/en/docs/line-login/using-line-url-scheme/) - Line å®˜æ–¹æ–‡ä»¶
- [next-share Library](https://github.com/Bunlong/next-share) - React åˆ†äº«æŒ‰éˆ•
- [Universal Links Guide 2026](https://dev.to/marko_boras_64fe51f7833a6/universal-deep-links-2026-complete-guide-36c4) - Deep Link å®Œæ•´æŒ‡å—

### éŸ³æ•ˆ
- [Web Audio API](https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API)
- æ³¨æ„ï¼šè¨±å¤šç€è¦½å™¨è¦æ±‚ä½¿ç”¨è€…äº’å‹•å¾Œæ‰èƒ½æ’­æ”¾éŸ³æ•ˆ

---

## ğŸ“ å‚™è¨»

1. **æ•ˆèƒ½è€ƒé‡**ï¼šå‹•ç•«ä½¿ç”¨ CSS transform å’Œ opacityï¼Œé¿å…è§¸ç™¼ layout reflow
2. **ç„¡éšœç¤™**ï¼šå°Šé‡ `prefers-reduced-motion` åª’é«”æŸ¥è©¢ï¼Œæä¾›éœæ…‹ç‰ˆæœ¬
3. **æ¼¸é€²å¢å¼·**ï¼šåˆ†äº«åŠŸèƒ½åœ¨ä¸æ”¯æ´çš„ç€è¦½å™¨é™ç´šç‚ºè¤‡è£½é€£çµ
4. **éŒ¯èª¤è™•ç†**ï¼šéŸ³æ•ˆæ’­æ”¾å¤±æ•—ä¸å½±éŸ¿ä¸»æµç¨‹
